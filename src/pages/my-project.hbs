{{#>layout title = "Myproject"}}
<div class="bg-cat1">
    <div class="container py-5">
    <!-- Content here -->
        <div class="d-flex justify-content-center">
            <a href="/add-project" style="text-decoration: none;">
                <div class="btn-cyans">
                Add Project      
                </div>
            </a>
        </div>
        <div class="py-5">
            <div class="row">
                
                {{#each data}}
                <div class="col-sm p-2 d-flex justify-content-center">
                    <div class="shadow-bg p-2" style="width: 18rem;">
                        <img src="{{this.image}}" style="max-height: 200px;" class="card-img-top rounded-4" alt="images">
                        <div class="card-body my-2">
                            <a href="/detail-project/{{this.id}}" class="text-a">
                                <h5 class="card-title">{{textTitle this.title}}</h5>
                            </a>
                            <div>{{formatDate this.createdAt}} | {{this.user.username}}</div>
                            <p class="card-text text-start">{{textSlice this.content}}</p>
                            <div class="mb-2">
                                <small>{{updateTimes this.createdAt this.updatedAt}}</small>
                            </div>
                            <div class="d-flex gap-2">
                            <a href="/edit-project/{{this.id}}" class="btn btn-primary w-50">Edit</a>
                            <form action="/delete-myproject/{{this.id}}?_method=DELETE" method="post" class="btn btn-danger w-50">
                                <button onclick="alertDelete()" type="submit" style="background: none; border:none" >Delete</button>
                            </form>
                            </div>
                        </div>
                    </div>
                </div>
            {{/each}}

            </div>
        </div>
    </div>
</div>
<script src="/js/alert.js"></script>
{{#if messages.success}}
    <script>
        alertSuccess('{{messages.success}}')
    </script>
{{/if}}
{{#if messages.error}}
    <script>
        alertError('{{messages.error}}')
    </script>
{{/if}}
{{/layout}}